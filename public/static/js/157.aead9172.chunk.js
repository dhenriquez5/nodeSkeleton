"use strict";(self.webpackChunkgocredix=self.webpackChunkgocredix||[]).push([[157],{4594:function(e,n,t){t.r(n),t.d(n,{default:function(){return ee}});var r,a,o=t(1413),i=t(885),l=t(2791),c=t(5359),s=t(132),d=t(9434),u=t(1972),p=t(4310),m=t(5705),f=t(890),h=t(2802),Z=t(4721),x=t(1889),b=t(8870),v=t(5850),j=t(4008),g=t(6922),y=t(5097),I=t(9823),w=t(9436),C=t(1701),_=t(2377),P=t(8171),S=t(7247),k=t(1993),z=t(3342),N=t(5987),q=t(168),F=t(7391),O=t(3786),V=t(6934),E=t(184),M=["label"],R=(0,V.ZP)(F.Z)(r||(r=(0,q.Z)(["\n    & label span{\n        color:red!important\n    }\n    & input:disabled{\n        -webkit-text-fill-color: rgba(0, 0, 0, 1.0);\n    }\n"]))),D=function(e){var n=e.label,t=(0,N.Z)(e,M),r=(0,m.U$)(t),a=(0,i.Z)(r,2),l=a[0],s=a[1];return(0,E.jsxs)(E.Fragment,{children:["  ",(0,E.jsx)(R,(0,o.Z)((0,o.Z)((0,o.Z)({margin:"normal",fullWidth:!0,label:n},t),l),{},{error:void 0!==s.error&&s.touched,style:t.disabled?{backgroundColor:"rgb(222, 222, 222)"}:{},children:t.data.map((function(e){return(0,E.jsx)(O.Z,{value:e,children:e},e)}))})),(0,E.jsx)(m.Bc,{name:t.name,component:"span",style:{color:c.r.palette.valen.error,fontSize:"12px"}})]})},W=t(948),B=["onChange"],$=["label"],A=(0,V.ZP)(F.Z)(a||(a=(0,q.Z)(["\n    & label span{\n        color:red!important\n    }\n    & input:disabled{\n        color:red!important;\n        -webkit-text-fill-color: rgba(0, 0, 0, 1.0);\n    }\n"]))),T=l.forwardRef((function(e,n){var t=e.onChange,r=(0,N.Z)(e,B);return(0,E.jsx)(W.h3,(0,o.Z)((0,o.Z)({},r),{},{getInputRef:n,onValueChange:function(n){t({target:{name:e.name,value:n.value}})},thousandSeparator:!0,valueIsNumericString:!0}))})),H=function(e){var n=e.label,t=(0,N.Z)(e,$),r=(0,m.U$)(t),a=(0,i.Z)(r,2),l=a[0],s=a[1];return(0,E.jsxs)(E.Fragment,{children:["  ",(0,E.jsx)(A,(0,o.Z)((0,o.Z)((0,o.Z)({margin:"normal",fullWidth:!0,label:n},t),l),{},{error:void 0!==s.error&&s.touched,InputProps:{inputComponent:T,inputProps:(0,o.Z)({},t)}})),(0,E.jsx)(m.Bc,{name:t.name,component:"span",style:{color:c.r.palette.valen.error,fontSize:"12px"}})]})},U=t(6385),G=t(2426),J=t.n(G),L={color:"white",backgroundColor:"".concat(c.r.palette.valen.secondary),fontSize:"24px"},Q={color:"white",backgroundColor:"".concat(c.r.palette.valen.error),fontSize:"24px"},X={id_cliente:"",cliente:"",fecha_prestamo:"",valor_prestamo:"",tasa_interes:"",periodo_pago:"",observacion:""},Y=["Mensual","Quincenal"],K=s.Ry({cliente:s.Z_().required("El Cliente es requerido"),fecha_prestamo:s.hT().typeError("please enter a valid date").required("La fecha de prestamo es requerida").min("1969-11-13","Fecha Invalida"),valor_prestamo:s.Rx().required("El valor de prestamo debe ser requerido"),tasa_interes:s.Rx().required("la tasa de interes debe ser requerido"),periodo_pago:s.Z_().required("El periodo debe ser requerido"),observacion:s.Z_()}),ee=function(){var e=(0,d.I0)(),n=(0,d.v9)((function(e){return e.form})),t=n.cancel,r=n.newE,a=n.disabled,c=n.save,s=n.canDelete,N=(0,l.useState)(null),q=(0,i.Z)(N,2),F=q[0],O=q[1],V=(0,d.v9)((function(e){return e.ui})),M=V.quickSearchSelected,R=V.quickSearchId;(0,l.useEffect)((function(){if(M){if("cliente"===R)return A();if("prestamo"===R)return $()}O(null)}),[M]),(0,l.useEffect)((function(){e((0,u.V9)()),e((0,p.$A)())}),[e]);var W=function(){e((0,p.so)("prestamo")),e((0,p.wj)())},B=function(){e((0,p.so)("cliente")),e((0,p.wj)())},$=function(){var n=M.fecha_prestamo,t=J()(n).format("yyyy-MM-DD");O((0,o.Z)((0,o.Z)({},M),{},{fecha_prestamo:t})),e((0,u.Jh)())},A=function(){O((0,o.Z)((0,o.Z)({},X),{},{id_cliente:M._id,cliente:M.nombre+" "+M.apellido}))};return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(m.J9,{initialValues:F||X,onSubmit:function(n){!function(n){if(n._id)return e((0,U.v3)(n));e((0,U.C5)(n))}(n)},validationSchema:K,enableReinitialize:!0,children:function(n){var o=n.handleReset;n.isValid,n.errors,n.resetForm;return(0,E.jsxs)(m.l0,{children:[(0,E.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,E.jsx)(f.Z,{variant:"h6",gutterBottom:!0,children:"Prestamo"}),r&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(v.i,{type:"reset",text:"Agregar",Icon:h.Z,handleClick:function(){e((0,u.TE)()),e((0,p.$A)()),o()}}),(0,E.jsx)(v.i,{type:"button",text:"Buscar",Icon:y.ZC,handleClick:W})]}),t&&(0,E.jsx)(v.i,{type:"reset",text:"Cancelar",Icon:I.Z,handleClick:function(){e((0,u.zC)()),e((0,p.$A)()),o()}}),(0,E.jsx)(j.Z,{})]}),(0,E.jsx)(Z.Z,{}),(0,E.jsxs)(x.ZP,{container:!0,spacing:1,children:[(0,E.jsx)(x.ZP,{item:!0,xs:12,md:6,children:(0,E.jsx)(z.w,{handleBr:B,disabled:!0,btn_disabled:a,margin:"dense",fullWidth:!0,id:"cliente",label:"Cliente",name:"cliente"})}),(0,E.jsx)(x.ZP,{item:!0,xs:12,md:3,children:(0,E.jsx)(g.o,{type:"date",disabled:a,margin:"dense",fullWidth:!0,InputLabelProps:{shrink:!0},id:"fecha_prestamo",label:"Fecha Prestamo",name:"fecha_prestamo"})}),(0,E.jsx)(x.ZP,{item:!0,xs:12,md:3,children:(0,E.jsx)(H,{disabled:a,margin:"dense",id:"valor_prestamo",label:"Valor Prestamo",name:"valor_prestamo",prefix:"$"})}),(0,E.jsx)(x.ZP,{item:!0,xs:12,md:3,children:(0,E.jsx)(H,{disabled:a,margin:"dense",id:"tasa_interes",label:"Tasa Interes",name:"tasa_interes"})}),(0,E.jsx)(x.ZP,{item:!0,xs:12,md:4,children:(0,E.jsx)(D,{data:Y,select:!0,disabled:a,margin:"dense",fullWidth:!0,id:"periodo_pago",label:"Periodo Pago",name:"periodo_pago"})}),(0,E.jsx)(x.ZP,{item:!0,xs:12,md:5,children:(0,E.jsx)(g.o,{disabled:a,margin:"dense",fullWidth:!0,id:"observacion",label:"Observaciones",name:"observacion"})})]}),(0,E.jsx)(b.Z,{children:(0,E.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",marginTop:"10px"},children:[s&&(0,E.jsx)(v.i,{size:"large",style:Q,type:"button",text:"Eliminar",Icon:S.Z,handleClick:function(){e((0,U.CA)(M._id)),e((0,p.$A)()),o()}}),c&&(0,E.jsx)(v.i,{size:"large",style:L,type:"submit",text:"Guardar Cambios",Icon:k.Z})]})})]})}}),(0,E.jsx)(w.g,{}),(0,E.jsx)(C.Z,{}),"prestamo"===R&&(0,E.jsx)(_.s,{title:"busqueda de prestamos",api:"prestamos/getPrestamo",columns:P.p}),"cliente"===R&&(0,E.jsx)(_.s,{title:"busqueda de clientes",api:"clientes/getCliente",columns:P.h})]})}},8171:function(e,n,t){t.d(n,{h:function(){return r},p:function(){return a}});t(2426);var r=[{field:"cedula",headerName:"Cedula",width:150,editable:!1},{field:"fullName",headerName:"Nombre",width:160,valueGetter:function(e){return"".concat(e.row.nombre||""," ").concat(e.row.apellido||"")}},{field:"telefono",headerName:"Telefono",width:150,editable:!1},{field:"direccion",headerName:"Direccion",width:150,editable:!1}],a=[{field:"fullName",headerName:"Nombre",width:160,valueGetter:function(e){return"".concat(e.row.cliente||"")}},{field:"fecha_prestamo",headerName:"Fecha Prestamo",width:150,editable:!1,valueFormatter:function(e){return e.value.split("T")[0]}},{field:"valor_prestamo",headerName:"Valor Prestamo",width:150,editable:!1,valueFormatter:function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.value)}},{field:"tasa_interes",headerName:"Tasa",width:100,editable:!1}]},5850:function(e,n,t){t.d(n,{i:function(){return h}});var r,a=t(1413),o=t(5987),i=t(168),l=t(3400),c=t(68),s=(t(2791),t(6934)),d=t(5359),u=t(2802),p=t(184),m=["type","text","size","Icon","handleClick"],f=(0,s.ZP)(l.Z)(r||(r=(0,i.Z)(["\n    background: "," ;\n    color:white;\n    display:flex;\n    justifyContent:center;\n    alignItems:center;\n    &:hover{\n        background-color:"," \n    }\n    &:active{\n        transform:translateY(2px) translateX(1px);\n        box-shadow: "," 0px 0px 0px \n    }\n"])),d.r.palette.valen.secondary,d.r.palette.valen.main,d.r.palette.valen.main),h=function(e){var n=e.type,t=void 0===n?"":n,r=e.text,i=void 0===r?"":r,l=e.size,s=void 0===l?"small":l,d=e.Icon,h=e.handleClick,Z=void 0===h?function(){}:h,x=(0,o.Z)(e,m);return(0,p.jsx)(c.Z,{title:i,children:(0,p.jsx)(f,(0,a.Z)((0,a.Z)({type:t,variant:"contained",onClick:Z,"aria-label":i,size:s},x),{},{children:(0,p.jsx)(u.Z,{icon:(0,p.jsx)(d,{})})}))})}},3342:function(e,n,t){t.d(n,{w:function(){return x}});var r,a=t(1413),o=t(885),i=t(5987),l=t(168),c=t(7391),s=t(3400),d=t(5705),u=(t(2791),t(5359)),p=t(6934),m=t(5097),f=t(184),h=["label","handleBr","btn_disabled"],Z=(0,p.ZP)(c.Z)(r||(r=(0,l.Z)(["\n    & label span{\n        color:red!important\n    }\n    & input:disabled{\n        color:red!important;\n        -webkit-text-fill-color: rgba(0, 0, 0, 1.0);\n    }\n    \n"]))),x=function(e){var n=e.label,t=e.handleBr,r=e.btn_disabled,l=(0,i.Z)(e,h),c=(0,d.U$)(l),p=(0,o.Z)(c,2),x=p[0],b=p[1];return(0,f.jsxs)(f.Fragment,{children:["  ",(0,f.jsx)(Z,(0,a.Z)((0,a.Z)((0,a.Z)({margin:"normal",fullWidth:!0,label:n},l),x),{},{error:void 0!==b.error&&b.touched,InputProps:{endAdornment:(0,f.jsx)(s.Z,{disabled:r,"aria-label":"toggle password visibility",onClick:t,edge:"end",children:(0,f.jsx)(m.ZC,{})})}})),(0,f.jsx)(d.Bc,{name:l.name,component:"span",style:{color:u.r.palette.valen.error,fontSize:"12px"}})]})}},6922:function(e,n,t){t.d(n,{o:function(){return Z}});var r,a=t(1413),o=t(885),i=t(5987),l=t(168),c=t(7391),s=t(5705),d=t(2791),u=t(5359),p=t(6934),m=t(184),f=["label"],h=(0,p.ZP)(c.Z)(r||(r=(0,l.Z)(["\n    & label span{\n        color:red!important\n    }\n    & input:disabled{\n        color:red!important;\n        -webkit-text-fill-color: rgba(0, 0, 0, 1.0);\n    }\n"]))),Z=(0,d.forwardRef)((function(e,n){var t=e.label,r=(0,i.Z)(e,f),l=(0,s.U$)(r),c=(0,o.Z)(l,2),d=c[0],p=c[1];return(0,m.jsxs)(m.Fragment,{children:["  ",(0,m.jsx)(h,(0,a.Z)((0,a.Z)((0,a.Z)({inputRef:n,margin:"normal",fullWidth:!0,label:t},r),d),{},{error:void 0!==p.error&&p.touched})),(0,m.jsx)(s.Bc,{name:r.name,component:"span",style:{color:u.r.palette.valen.error,fontSize:"12px"}})]})}))},1972:function(e,n,t){t.d(n,{TE:function(){return a},zC:function(){return o},V9:function(){return i},Jh:function(){return l}});var r=t(9095),a=function(){return{type:r.a.formNew}},o=function(){return{type:r.a.formCancel}},i=function(){return{type:r.a.formInitial}},l=function(){return{type:r.a.formFetched}}},7247:function(e,n,t){var r=t(4836);n.Z=void 0;var a=r(t(5649)),o=t(184),i=(0,a.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");n.Z=i},1993:function(e,n,t){var r=t(9201),a=t(184);n.Z=(0,r.Z)((0,a.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm2 16H5V5h11.17L19 7.83V19zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zM6 6h9v4H6z"}),"SaveOutlined")},2802:function(e,n,t){t.d(n,{Z:function(){return g}});var r=t(4942),a=t(3366),o=t(7462),i=t(2791),l=t(8182),c=t(4419),s=t(6934),d=t(1402),u=t(9201),p=t(184),m=(0,u.Z)((0,p.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),f=t(5878),h=t(1217);function Z(e){return(0,h.Z)("MuiSpeedDialIcon",e)}var x=(0,f.Z)("MuiSpeedDialIcon",["root","icon","iconOpen","iconWithOpenIconOpen","openIcon","openIconOpen"]),b=["className","icon","open","openIcon"],v=(0,s.ZP)("span",{name:"MuiSpeedDialIcon",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[(0,r.Z)({},"& .".concat(x.icon),n.icon),(0,r.Z)({},"& .".concat(x.icon),t.open&&n.iconOpen),(0,r.Z)({},"& .".concat(x.icon),t.open&&t.openIcon&&n.iconWithOpenIconOpen),(0,r.Z)({},"& .".concat(x.openIcon),n.openIcon),(0,r.Z)({},"& .".concat(x.openIcon),t.open&&n.openIconOpen),n.root]}})((function(e){var n,t=e.theme,a=e.ownerState;return n={height:24},(0,r.Z)(n,"& .".concat(x.icon),(0,o.Z)({transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.short})},a.open&&(0,o.Z)({transform:"rotate(45deg)"},a.openIcon&&{opacity:0}))),(0,r.Z)(n,"& .".concat(x.openIcon),(0,o.Z)({position:"absolute",transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.short}),opacity:0,transform:"rotate(-45deg)"},a.open&&{transform:"rotate(0deg)",opacity:1})),n})),j=i.forwardRef((function(e,n){var t=(0,d.Z)({props:e,name:"MuiSpeedDialIcon"}),r=t.className,s=t.icon,u=t.openIcon,f=(0,a.Z)(t,b),h=t,x=function(e){var n=e.classes,t=e.open,r={root:["root"],icon:["icon",t&&"iconOpen",e.openIcon&&t&&"iconWithOpenIconOpen"],openIcon:["openIcon",t&&"openIconOpen"]};return(0,c.Z)(r,Z,n)}(h);function j(e,n){return i.isValidElement(e)?i.cloneElement(e,{className:n}):e}return(0,p.jsxs)(v,(0,o.Z)({className:(0,l.Z)(x.root,r),ref:n,ownerState:h},f,{children:[u?j(u,x.openIcon):null,s?j(s,x.icon):(0,p.jsx)(m,{className:x.icon})]}))}));j.muiName="SpeedDialIcon";var g=j}}]);
//# sourceMappingURL=157.aead9172.chunk.js.map