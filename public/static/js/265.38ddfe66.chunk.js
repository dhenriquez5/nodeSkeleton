"use strict";(self.webpackChunkgocredix=self.webpackChunkgocredix||[]).push([[265],{3265:function(e,n,r){r.r(n),r.d(n,{default:function(){return F}});var t=r(885),i=r(890),o=r(4721),a=r(1889),l=r(8870),c=r(132),s=r(5705),d=r(2791),u=r(6922),p=r(8243),m=r(5850),f=r(2802),h=r(9823),x=r(9434),v=r(1972),b=r(2377),y=r(4310),j=r(5359),Z=r(1993),g=r(1703),C=r(7247),w=r(9436),I=r(1701),k=r(5861),S=r(4687),N=r.n(S),E=r(362),_=r(7444),P=r(9095),O=r(9646),z=r(8171),D=r(184),M={color:"white",backgroundColor:"".concat(j.r.palette.valen.secondary),fontSize:"24px"},q={color:"white",backgroundColor:"".concat(j.r.palette.valen.error),fontSize:"24px"},L={cedula:"",nombre:"",apellido:"",telefono:"",direccion:"",email:"",empresa:"",direccion_empresa:"",observacion:""},W=c.Ry({cedula:c.Z_().max(15,"La cedula debe contener 15 caracteres o menos").required("La cedula es requerida"),nombre:c.Z_().min(3,"Debe tener al menos 3 caracteres").required("El nombre debe ser requerido"),apellido:c.Z_().required("El apellido debe ser requerido"),telefono:c.Z_().required("El telefono debe ser requerido"),direccion:c.Z_().required("La direccion debe ser requerida"),email:c.Z_(),empresa:c.Z_(),direccion_empresa:c.Z_()}),F=function(){var e=(0,x.I0)(),n=(0,x.v9)((function(e){return e.form})),r=n.cancel,c=n.newE,j=n.disabled,S=n.save,F=n.canDelete,V=(0,d.useState)(null),R=(0,t.Z)(V,2),A=R[0],T=R[1],H=(0,x.v9)((function(e){return e.ui})).quickSearchSelected;(0,d.useEffect)((function(){if(H)return $();T(null)}),[H]),(0,d.useEffect)((function(){e((0,v.V9)()),e((0,y.$A)())}),[e]);var J=function(n){if(n._id)return e(function(e){var n=e._id,r=e.cedula,t=e.nombre,i=e.apellido,o=e.direccion,a=e.telefono,l=e.email,c=e.empresa,s=e.direccion_empresa,d=e.observacion;return function(){var e=(0,k.Z)(N().mark((function e(u){var p,m;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u({type:_.h.uiOpenLoading}),e.next=4,(0,E.E)("clientes/UpdateCliente/"+n,{cedula:r,nombre:t,apellido:i,direccion:o,telefono:a,email:l,empresa:c,direccion_empresa:s,observacion:d},"PUT");case 4:return p=e.sent,e.next=7,p.json();case 7:(m=e.sent).ok?(u({type:P.a.formSave}),u({type:O.b.Create,payload:m.response}),u({type:_.h.uiErrorMessage,payload:null})):u({type:_.h.uiErrorMessage,payload:m.msg}),u({type:_.h.uiCloseLoading}),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0),u({type:_.h.uiCloseLoading}),u({type:_.h.uiErrorMessage,payload:JSON.stringify(e.t0)});case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n){return e.apply(this,arguments)}}()}(n));e(function(e){var n=e.cedula,r=e.nombre,t=e.apellido,i=e.direccion,o=e.telefono,a=e.email,l=e.empresa,c=e.direccion_empresa,s=e.observacion;return function(){var e=(0,k.Z)(N().mark((function e(d){var u,p;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d({type:_.h.uiOpenLoading}),e.next=4,(0,E.E)("clientes/CreateCliente",{cedula:n,nombre:r,apellido:t,direccion:i,telefono:o,email:a,empresa:l,direccion_empresa:c,observacion:s},"POST");case 4:return u=e.sent,e.next=7,u.json();case 7:(p=e.sent).ok?(d({type:P.a.formSave}),d({type:O.b.Create,payload:p.response}),d({type:_.h.uiErrorMessage,payload:null})):d({type:_.h.uiErrorMessage,payload:p.msg}),d({type:_.h.uiCloseLoading}),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0),d({type:_.h.uiCloseLoading}),d({type:_.h.uiErrorMessage,payload:JSON.stringify(e.t0)});case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n){return e.apply(this,arguments)}}()}(n))},B=function(){e((0,y.wj)())},U=function(){var n;e((n=H._id,function(){var e=(0,k.Z)(N().mark((function e(r){var t,i;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:_.h.uiOpenLoading}),e.next=4,(0,E.E)("clientes/DeleteCliente/"+n,{},"delete");case 4:return t=e.sent,e.next=7,t.json();case 7:(i=e.sent).ok?(r({type:P.a.formDelete}),r({type:O.b.Delete,payload:i.response}),r({type:_.h.uiErrorMessage,payload:null})):r({type:_.h.uiErrorMessage,payload:i.msg}),r({type:_.h.uiCloseLoading}),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0),r({type:_.h.uiCloseLoading}),r({type:_.h.uiErrorMessage,payload:JSON.stringify(e.t0)});case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n){return e.apply(this,arguments)}}())),e((0,y.$A)())},$=function(){T(H),e((0,v.Jh)())};return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(s.J9,{initialValues:A||L,onSubmit:function(e){J(e)},validationSchema:W,enableReinitialize:!0,children:function(n){var t=n.handleReset;n.isValid,n.errors,n.resetForm;return(0,D.jsxs)(s.l0,{children:[(0,D.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,D.jsx)(i.Z,{variant:"h6",gutterBottom:!0,children:"Cliente"}),c&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(m.i,{type:"reset",text:"Agregar",Icon:f.Z,handleClick:function(){e((0,v.TE)()),e((0,y.$A)()),t()}}),(0,D.jsx)(m.i,{type:"button",text:"Buscar",Icon:g.Z,handleClick:B})]}),r&&(0,D.jsx)(m.i,{type:"reset",text:"Cancelar",Icon:h.Z,handleClick:function(){e((0,v.zC)()),e((0,y.$A)()),t()}}),(0,D.jsx)(p.Z,{})]}),(0,D.jsx)(o.Z,{}),(0,D.jsxs)(a.ZP,{container:!0,spacing:1,children:[(0,D.jsx)(a.ZP,{item:!0,xs:12,md:3,children:(0,D.jsx)(u.o,{disabled:j,margin:"dense",fullWidth:!0,id:"cedula",label:"Cedula",name:"cedula"})}),(0,D.jsx)(a.ZP,{item:!0,xs:12,md:4,children:(0,D.jsx)(u.o,{disabled:j,margin:"dense",fullWidth:!0,id:"nombre",label:"Nombres",name:"nombre"})}),(0,D.jsx)(a.ZP,{item:!0,xs:12,md:4,children:(0,D.jsx)(u.o,{disabled:j,margin:"dense",fullWidth:!0,id:"apellido",label:"Apellidos",name:"apellido"})}),(0,D.jsx)(a.ZP,{item:!0,xs:12,md:3,children:(0,D.jsx)(u.o,{disabled:j,margin:"dense",fullWidth:!0,id:"telefono",label:"Telefono",name:"telefono"})}),(0,D.jsx)(a.ZP,{item:!0,xs:12,md:4,children:(0,D.jsx)(u.o,{disabled:j,margin:"dense",fullWidth:!0,id:"direccion",label:"Direccion",name:"direccion"})}),(0,D.jsx)(a.ZP,{item:!0,xs:12,md:5,children:(0,D.jsx)(u.o,{disabled:j,margin:"dense",fullWidth:!0,id:"email",label:"Email",name:"email"})}),(0,D.jsx)(a.ZP,{item:!0,xs:12,md:4,children:(0,D.jsx)(u.o,{disabled:j,margin:"dense",fullWidth:!0,id:"empresa",label:"Empresa",name:"empresa"})}),(0,D.jsx)(a.ZP,{item:!0,xs:12,md:4,children:(0,D.jsx)(u.o,{disabled:j,margin:"dense",fullWidth:!0,id:"direccion_empresa",label:"Direccion Empresa",name:"direccion_empresa"})}),(0,D.jsx)(a.ZP,{item:!0,xs:12,md:4,children:(0,D.jsx)(u.o,{disabled:j,margin:"dense",fullWidth:!0,id:"observacion",label:"Observacion",name:"observacion"})})]}),(0,D.jsx)(l.Z,{children:(0,D.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",marginTop:"10px"},children:[F&&(0,D.jsx)(m.i,{size:"large",style:q,type:"button",text:"Eliminar",Icon:C.Z,handleClick:function(){U(),t()}}),S&&(0,D.jsx)(m.i,{size:"large",style:M,type:"submit",text:"Guardar Cambios",Icon:Z.Z})]})})]})}}),(0,D.jsx)(w.g,{}),(0,D.jsx)(I.Z,{}),(0,D.jsx)(b.s,{title:"busqueda de clientes",api:"clientes/getCliente",columns:z.h})]})}},1701:function(e,n,r){r.d(n,{Z:function(){return s}});r(2791);var t=r(4070),i=r(7317),o=r(9818),a=r(9434),l=r(4310),c=r(184);function s(){var e=(0,a.v9)((function(e){return e.ui})).error,n=(0,a.I0)(),r=function(){n((0,l.NV)(null))};return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(o.Z,{open:null!==e,onClose:r,children:(0,c.jsxs)(t.Z,{severity:"error",onClose:r,children:[(0,c.jsx)(i.Z,{children:"Error"}),e]})})})}},9436:function(e,n,r){r.d(n,{g:function(){return o}});r(2791);var t=r(9434),i=r(184),o=function(){var e=(0,t.v9)((function(e){return e.ui})).loading;return(0,i.jsx)(i.Fragment,{children:e&&(0,i.jsx)("div",{className:"loader text-center",children:(0,i.jsxs)("div",{className:"loader-inner",children:[(0,i.jsxs)("div",{className:"lds-roller mb-3",children:[(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{})]}),(0,i.jsx)("h4",{className:"text-uppercase font-weight-bold",children:"Loading"})]})})})}},8171:function(e,n,r){r.d(n,{h:function(){return t},p:function(){return i}});r(2426);var t=[{field:"cedula",headerName:"Cedula",width:150,editable:!1},{field:"fullName",headerName:"Nombre",width:160,valueGetter:function(e){return"".concat(e.row.nombre||""," ").concat(e.row.apellido||"")}},{field:"telefono",headerName:"Telefono",width:150,editable:!1},{field:"direccion",headerName:"Direccion",width:150,editable:!1}],i=[{field:"fullName",headerName:"Nombre",width:160,valueGetter:function(e){return"".concat(e.row.cliente||"")}},{field:"fecha_prestamo",headerName:"Fecha Prestamo",width:150,editable:!1,valueFormatter:function(e){return e.value.split("T")[0]}},{field:"valor_prestamo",headerName:"Valor Prestamo",width:150,editable:!1,valueFormatter:function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.value)}},{field:"tasa_interes",headerName:"Tasa",width:100,editable:!1}]},8447:function(e,n,r){r.d(n,{N:function(){return l}});var t=r(890),i=r(3400),o=r(5097),a=(r(2791),r(184)),l=function(e){var n=e.title,r=void 0===n?"":n,l=e.handleClose,c=void 0===l?function(){}:l;return(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",alignContent:"center"},children:[(0,a.jsx)(t.Z,{style:{textAlign:"center",flexGrow:1},id:"modal-modal-title",variant:"h5",component:"h4",children:r}),(0,a.jsx)(i.Z,{type:"submit",sx:{p:"10px"},onClick:c,"aria-label":"close",children:(0,a.jsx)(o.DS,{})})]})}},2377:function(e,n,r){r.d(n,{s:function(){return k}});var t,i=r(885),o=r(168),a=r(2791),l=r(8870),c=r(792),s=r(5359),d=r(9778),u=r(6934),p=r(3400),m=r(4721),f=r(1614),h=r(1889),x=r(7391),v=r(1703),b=r(4070),y=r(1450),j=r(9434),Z=r(4310),g=r(184),C=function(e){var n=e.columns,r=void 0===n?[]:n,t=e.handleClose,i=void 0===t?function(){}:t,o=(0,j.I0)(),a=(0,j.v9)((function(e){return e.ui})).quickSearchData,l=function(e){o((0,Z.Nq)(e)),i()};return(0,g.jsxs)(g.Fragment,{children:[0===a.length&&(0,g.jsx)(b.Z,{severity:"info",children:"0 Registros Encontrados"}),a&&a.length>0&&(0,g.jsx)("div",{style:{height:"25rem",width:"auto",overflow:"auto",cursor:"pointer"},children:(0,g.jsx)(y._,{getRowId:function(e){return e._id},density:"compact",rows:a,columns:r,pageSize:10,rowsPerPageOptions:[10],loading:!1,onRowClick:function(e){l(e.row)},onCellKeyDown:function(e,n){!function(e,n){n.preventDefault(),"Enter"===n.key&&l(e.row)}(e,n)},editMode:"row"})})]})},w=r(8447),I=(0,u.ZP)(p.Z)(t||(t=(0,o.Z)(["\n    color:white;\n    :hover{\n        background:","\n    }\n"])),s.r.palette.valen.main),k=function(e){var n=e.title,r=e.api,t=void 0===r?"":r,o=e.columns,u=void 0===o?[]:o,p=(e.rows_mobile,(0,d.Z)()),b={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"".concat(p?"80%":"60%"),bgcolor:"background.paper",border:"1px solid ".concat(s.r.palette.valen.tertiary),borderRadius:8,boxShadow:24,p:4},y=(0,a.useState)(""),k=(0,i.Z)(y,2),S=k[0],N=k[1],E=(0,j.I0)(),_=(0,j.v9)((function(e){return e.ui})).quickSearch,P=function(){E((0,Z.B9)()),N("")},O=function(){E((0,Z.qA)(t,S))};return(0,g.jsx)("div",{children:(0,g.jsx)(c.Z,{open:_,onClose:P,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,g.jsxs)(l.Z,{sx:b,children:[(0,g.jsx)(w.N,{title:n,handleClose:P}),(0,g.jsx)(m.Z,{sx:{mt:2,mb:2}}),(0,g.jsx)(f.Z,{component:"main",maxWidth:"lg",style:{display:"flex",justifyContent:"center",alignItems:"center",alignContent:"center"},children:(0,g.jsxs)(h.ZP,{container:!0,spacing:2,style:{display:"flex",justifyContent:"center",alignItems:"center",alignContent:"center"},children:[(0,g.jsx)(h.ZP,{item:!0,xs:10,md:6,children:(0,g.jsx)(x.Z,{name:"inputSearch",autoFocus:!0,value:S,onChange:function(e){N(e.target.value)},variant:"standard",id:"standard-search",onKeyDown:function(e){S.trim().length>0&&"Enter"===e.key&&O()},fullWidth:!0,label:"Busqueda",type:"search"})}),(0,g.jsx)(h.ZP,{item:!0,xs:2,md:2,children:(0,g.jsx)(I,{onClick:function(){S.trim().length>0&&O()},type:"submit",sx:{p:"10px",background:s.r.palette.valen.secondary},"aria-label":"search",children:(0,g.jsx)(v.Z,{})})}),(0,g.jsxs)(h.ZP,{item:!0,xs:12,md:12,children:[!p&&(0,g.jsx)(C,{columns:u,handleClose:P}),p&&(0,g.jsx)(C,{columns:u,handleClose:P})]})]})})]})})})}},5850:function(e,n,r){r.d(n,{i:function(){return h}});var t,i=r(1413),o=r(5987),a=r(168),l=r(3400),c=r(68),s=(r(2791),r(6934)),d=r(5359),u=r(2802),p=r(184),m=["type","text","size","Icon","handleClick"],f=(0,s.ZP)(l.Z)(t||(t=(0,a.Z)(["\n    background: "," ;\n    color:white;\n    display:flex;\n    justifyContent:center;\n    alignItems:center;\n    &:hover{\n        background-color:"," \n    }\n    &:active{\n        transform:translateY(2px) translateX(1px);\n        box-shadow: "," 0px 0px 0px \n    }\n"])),d.r.palette.valen.secondary,d.r.palette.valen.main,d.r.palette.valen.main),h=function(e){var n=e.type,r=void 0===n?"":n,t=e.text,a=void 0===t?"":t,l=e.size,s=void 0===l?"small":l,d=e.Icon,h=e.handleClick,x=void 0===h?function(){}:h,v=(0,o.Z)(e,m);return(0,p.jsx)(c.Z,{title:a,children:(0,p.jsx)(f,(0,i.Z)((0,i.Z)({type:r,variant:"contained",onClick:x,"aria-label":a,size:s},v),{},{children:(0,p.jsx)(u.Z,{icon:(0,p.jsx)(d,{})})}))})}},6922:function(e,n,r){r.d(n,{o:function(){return h}});var t,i=r(1413),o=r(885),a=r(5987),l=r(168),c=r(7391),s=r(5705),d=(r(2791),r(5359)),u=r(6934),p=r(184),m=["label"],f=(0,u.ZP)(c.Z)(t||(t=(0,l.Z)(["\n    & label span{\n        color:red!important\n    }\n    & input:disabled{\n        color:red!important;\n        -webkit-text-fill-color: rgba(0, 0, 0, 1.0);\n    }\n"]))),h=function(e){var n=e.label,r=(0,a.Z)(e,m),t=(0,s.U$)(r),l=(0,o.Z)(t,2),c=l[0],u=l[1];return(0,p.jsxs)(p.Fragment,{children:["  ",(0,p.jsx)(f,(0,i.Z)((0,i.Z)((0,i.Z)({margin:"normal",fullWidth:!0,label:n},r),c),{},{error:void 0!==u.error&&u.touched})),(0,p.jsx)(s.Bc,{name:r.name,component:"span",style:{color:d.r.palette.valen.error,fontSize:"12px"}})]})}},1972:function(e,n,r){r.d(n,{TE:function(){return i},zC:function(){return o},V9:function(){return a},Jh:function(){return l}});var t=r(9095),i=function(){return{type:t.a.formNew}},o=function(){return{type:t.a.formCancel}},a=function(){return{type:t.a.formInitial}},l=function(){return{type:t.a.formFetched}}},7247:function(e,n,r){var t=r(4836);n.Z=void 0;var i=t(r(5649)),o=r(184),a=(0,i.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");n.Z=a},1703:function(e,n,r){var t=r(4836);n.Z=void 0;var i=t(r(5649)),o=r(184),a=(0,i.default)((0,o.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");n.Z=a},1993:function(e,n,r){var t=r(9201),i=r(184);n.Z=(0,t.Z)((0,i.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm2 16H5V5h11.17L19 7.83V19zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zM6 6h9v4H6z"}),"SaveOutlined")},2802:function(e,n,r){r.d(n,{Z:function(){return Z}});var t=r(4942),i=r(3366),o=r(7462),a=r(2791),l=r(8182),c=r(4419),s=r(6934),d=r(1402),u=r(9201),p=r(184),m=(0,u.Z)((0,p.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),f=r(5878),h=r(1217);function x(e){return(0,h.Z)("MuiSpeedDialIcon",e)}var v=(0,f.Z)("MuiSpeedDialIcon",["root","icon","iconOpen","iconWithOpenIconOpen","openIcon","openIconOpen"]),b=["className","icon","open","openIcon"],y=(0,s.ZP)("span",{name:"MuiSpeedDialIcon",slot:"Root",overridesResolver:function(e,n){var r=e.ownerState;return[(0,t.Z)({},"& .".concat(v.icon),n.icon),(0,t.Z)({},"& .".concat(v.icon),r.open&&n.iconOpen),(0,t.Z)({},"& .".concat(v.icon),r.open&&r.openIcon&&n.iconWithOpenIconOpen),(0,t.Z)({},"& .".concat(v.openIcon),n.openIcon),(0,t.Z)({},"& .".concat(v.openIcon),r.open&&n.openIconOpen),n.root]}})((function(e){var n,r=e.theme,i=e.ownerState;return n={height:24},(0,t.Z)(n,"& .".concat(v.icon),(0,o.Z)({transition:r.transitions.create(["transform","opacity"],{duration:r.transitions.duration.short})},i.open&&(0,o.Z)({transform:"rotate(45deg)"},i.openIcon&&{opacity:0}))),(0,t.Z)(n,"& .".concat(v.openIcon),(0,o.Z)({position:"absolute",transition:r.transitions.create(["transform","opacity"],{duration:r.transitions.duration.short}),opacity:0,transform:"rotate(-45deg)"},i.open&&{transform:"rotate(0deg)",opacity:1})),n})),j=a.forwardRef((function(e,n){var r=(0,d.Z)({props:e,name:"MuiSpeedDialIcon"}),t=r.className,s=r.icon,u=r.openIcon,f=(0,i.Z)(r,b),h=r,v=function(e){var n=e.classes,r=e.open,t={root:["root"],icon:["icon",r&&"iconOpen",e.openIcon&&r&&"iconWithOpenIconOpen"],openIcon:["openIcon",r&&"openIconOpen"]};return(0,c.Z)(t,x,n)}(h);function j(e,n){return a.isValidElement(e)?a.cloneElement(e,{className:n}):e}return(0,p.jsxs)(y,(0,o.Z)({className:(0,l.Z)(v.root,t),ref:n,ownerState:h},f,{children:[u?j(u,v.openIcon):null,s?j(s,v.icon):(0,p.jsx)(m,{className:v.icon})]}))}));j.muiName="SpeedDialIcon";var Z=j}}]);
//# sourceMappingURL=265.38ddfe66.chunk.js.map