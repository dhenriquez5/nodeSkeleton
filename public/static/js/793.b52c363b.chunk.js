"use strict";(self.webpackChunkgocredix=self.webpackChunkgocredix||[]).push([[793],{3265:function(e,n,r){r.r(n),r.d(n,{default:function(){return J}});var i=r(885),a=r(890),t=r(4721),s=r(1889),o=r(8870),l=r(132),c=r(5705),d=r(2791),u=r(6922),p=r(8243),m=r(5850),f=r(2802),x=r(9823),h=r(9434),b=r(1972),y=r(2377),g=r(4310),j=r(5359),v=r(1993),Z=r(1703),C=r(7247),E=r(9436),k=r(1701),_=r(5861),w=r(7757),S=r.n(w),q=r(362),L=r(7444),P=r(9095),M=r(9646),W=r(8171),O=r(184),D={color:"white",backgroundColor:"".concat(j.r.palette.valen.secondary),fontSize:"24px"},I={color:"white",backgroundColor:"".concat(j.r.palette.valen.error),fontSize:"24px"},z={cedula:"",nombre:"",apellido:"",telefono:"",direccion:"",email:"",empresa:"",direccion_empresa:"",observacion:""},A=l.Ry({cedula:l.Z_().max(15,"La cedula debe contener 15 caracteres o menos").required("La cedula es requerida"),nombre:l.Z_().min(3,"Debe tener al menos 3 caracteres").required("El nombre debe ser requerido"),apellido:l.Z_().required("El apellido debe ser requerido"),telefono:l.Z_().required("El telefono debe ser requerido"),direccion:l.Z_().required("La direccion debe ser requerida"),email:l.Z_(),empresa:l.Z_(),direccion_empresa:l.Z_()}),J=function(){var e=(0,h.I0)(),n=(0,h.v9)((function(e){return e.form})),r=n.cancel,l=n.newE,j=n.disabled,w=n.save,J=n.canDelete,T=(0,d.useState)(null),N=(0,i.Z)(T,2),$=N[0],F=N[1],R=(0,h.v9)((function(e){return e.ui})).quickSearchSelected;(0,d.useEffect)((function(){if(R)return G();F(null)}),[R]),(0,d.useEffect)((function(){e((0,b.V9)()),e((0,g.$A)())}),[e]);var V=function(n){if(n._id)return e(function(e){var n=e._id,r=e.cedula,i=e.nombre,a=e.apellido,t=e.direccion,s=e.telefono,o=e.email,l=e.empresa,c=e.direccion_empresa,d=e.observacion;return function(){var e=(0,_.Z)(S().mark((function e(u){var p,m;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u({type:L.h.uiOpenLoading}),e.next=4,(0,q.E)("clientes/UpdateCliente/"+n,{cedula:r,nombre:i,apellido:a,direccion:t,telefono:s,email:o,empresa:l,direccion_empresa:c,observacion:d},"PUT");case 4:return p=e.sent,e.next=7,p.json();case 7:(m=e.sent).ok?(u({type:P.a.formSave}),u({type:M.b.Create,payload:m.response}),u({type:L.h.uiErrorMessage,payload:null})):u({type:L.h.uiErrorMessage,payload:m.msg}),u({type:L.h.uiCloseLoading}),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0),u({type:L.h.uiCloseLoading}),u({type:L.h.uiErrorMessage,payload:JSON.stringify(e.t0)});case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n){return e.apply(this,arguments)}}()}(n));e(function(e){var n=e.cedula,r=e.nombre,i=e.apellido,a=e.direccion,t=e.telefono,s=e.email,o=e.empresa,l=e.direccion_empresa,c=e.observacion;return function(){var e=(0,_.Z)(S().mark((function e(d){var u,p;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d({type:L.h.uiOpenLoading}),e.next=4,(0,q.E)("clientes/CreateCliente",{cedula:n,nombre:r,apellido:i,direccion:a,telefono:t,email:s,empresa:o,direccion_empresa:l,observacion:c},"POST");case 4:return u=e.sent,e.next=7,u.json();case 7:(p=e.sent).ok?(d({type:P.a.formSave}),d({type:M.b.Create,payload:p.response}),d({type:L.h.uiErrorMessage,payload:null})):d({type:L.h.uiErrorMessage,payload:p.msg}),d({type:L.h.uiCloseLoading}),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0),d({type:L.h.uiCloseLoading}),d({type:L.h.uiErrorMessage,payload:JSON.stringify(e.t0)});case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n){return e.apply(this,arguments)}}()}(n))},B=function(){e((0,g.wj)())},U=function(){var n;e((n=R._id,function(){var e=(0,_.Z)(S().mark((function e(r){var i,a;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:L.h.uiOpenLoading}),e.next=4,(0,q.E)("clientes/DeleteCliente/"+n,{},"delete");case 4:return i=e.sent,e.next=7,i.json();case 7:(a=e.sent).ok?(r({type:P.a.formDelete}),r({type:M.b.Delete,payload:a.response}),r({type:L.h.uiErrorMessage,payload:null})):r({type:L.h.uiErrorMessage,payload:a.msg}),r({type:L.h.uiCloseLoading}),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0),r({type:L.h.uiCloseLoading}),r({type:L.h.uiErrorMessage,payload:JSON.stringify(e.t0)});case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n){return e.apply(this,arguments)}}())),e((0,g.$A)())},G=function(){F(R),e((0,b.Jh)())};return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(c.J9,{initialValues:$||z,onSubmit:function(e){V(e)},validationSchema:A,enableReinitialize:!0,children:function(n){var i=n.handleReset;n.isValid,n.errors,n.resetForm;return(0,O.jsxs)(c.l0,{children:[(0,O.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,O.jsx)(a.Z,{variant:"h6",gutterBottom:!0,children:"Cliente"}),l&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(m.i,{type:"reset",text:"Agregar",Icon:f.Z,handleClick:function(){e((0,b.TE)()),e((0,g.$A)()),i()}}),(0,O.jsx)(m.i,{type:"button",text:"Buscar",Icon:Z.Z,handleClick:B})]}),r&&(0,O.jsx)(m.i,{type:"reset",text:"Cancelar",Icon:x.Z,handleClick:function(){e((0,b.zC)()),e((0,g.$A)()),i()}}),(0,O.jsx)(p.Z,{})]}),(0,O.jsx)(t.Z,{}),(0,O.jsxs)(s.ZP,{container:!0,spacing:1,children:[(0,O.jsx)(s.ZP,{item:!0,xs:12,md:3,children:(0,O.jsx)(u.o,{disabled:j,margin:"dense",fullWidth:!0,id:"cedula",label:"Cedula",name:"cedula"})}),(0,O.jsx)(s.ZP,{item:!0,xs:12,md:4,children:(0,O.jsx)(u.o,{disabled:j,margin:"dense",fullWidth:!0,id:"nombre",label:"Nombres",name:"nombre"})}),(0,O.jsx)(s.ZP,{item:!0,xs:12,md:4,children:(0,O.jsx)(u.o,{disabled:j,margin:"dense",fullWidth:!0,id:"apellido",label:"Apellidos",name:"apellido"})}),(0,O.jsx)(s.ZP,{item:!0,xs:12,md:3,children:(0,O.jsx)(u.o,{disabled:j,margin:"dense",fullWidth:!0,id:"telefono",label:"Telefono",name:"telefono"})}),(0,O.jsx)(s.ZP,{item:!0,xs:12,md:4,children:(0,O.jsx)(u.o,{disabled:j,margin:"dense",fullWidth:!0,id:"direccion",label:"Direccion",name:"direccion"})}),(0,O.jsx)(s.ZP,{item:!0,xs:12,md:5,children:(0,O.jsx)(u.o,{disabled:j,margin:"dense",fullWidth:!0,id:"email",label:"Email",name:"email"})}),(0,O.jsx)(s.ZP,{item:!0,xs:12,md:4,children:(0,O.jsx)(u.o,{disabled:j,margin:"dense",fullWidth:!0,id:"empresa",label:"Empresa",name:"empresa"})}),(0,O.jsx)(s.ZP,{item:!0,xs:12,md:4,children:(0,O.jsx)(u.o,{disabled:j,margin:"dense",fullWidth:!0,id:"direccion_empresa",label:"Direccion Empresa",name:"direccion_empresa"})}),(0,O.jsx)(s.ZP,{item:!0,xs:12,md:4,children:(0,O.jsx)(u.o,{disabled:j,margin:"dense",fullWidth:!0,id:"observacion",label:"Observacion",name:"observacion"})})]}),(0,O.jsx)(o.Z,{children:(0,O.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",marginTop:"10px"},children:[J&&(0,O.jsx)(m.i,{size:"large",style:I,type:"button",text:"Eliminar",Icon:C.Z,handleClick:function(){U(),i()}}),w&&(0,O.jsx)(m.i,{size:"large",style:D,type:"submit",text:"Guardar Cambios",Icon:v.Z})]})})]})}}),(0,O.jsx)(E.g,{}),(0,O.jsx)(k.Z,{}),(0,O.jsx)(y.s,{title:"busqueda de clientes",api:"clientes/getCliente",columns:W.h})]})}}}]);
//# sourceMappingURL=793.b52c363b.chunk.js.map