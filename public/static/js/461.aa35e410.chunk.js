"use strict";(self.webpackChunkgocredix=self.webpackChunkgocredix||[]).push([[461],{8461:function(e,r,t){t.r(r);var n=t(2791),a=t(1450),o=t(9434),i=t(6385),s=t(9436),u=t(1701),c=t(433),l=t(890),p=t(4721),d=t(8946),f=t(2332),y=t(5373),h=t(184);r.default=function(){var e=(0,o.I0)(),r=(0,o.v9)((function(e){return e.prestamo})).prestamos;(0,n.useEffect)((function(){e((0,i.Jd)()),e((0,i.aM)())}),[]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,h.jsx)(l.Z,{variant:"h6",gutterBottom:!0,children:"Saldos"}),(0,h.jsx)(d.Z,{})]}),(0,h.jsx)(p.Z,{}),r&&(null===r||void 0===r?void 0:r.length)>0&&(0,h.jsxs)("div",{style:{marginTop:20,height:"30rem",width:"auto",overflow:"auto",cursor:"pointer"},children:[(0,h.jsx)(a._,{initialState:{sorting:{sortModel:[{field:"fullName",sort:"asc"}]}},getRowId:function(e){return e._id},density:"compact",rows:r,columns:c.jY,pageSize:10,rowsPerPageOptions:[10],loading:!1,onRowClick:function(){},editMode:"row",components:{Toolbar:f.N,Pagination:y.$},experimentalFeatures:{newEditingApi:!0}}),(0,h.jsx)(s.g,{}),(0,h.jsx)(u.Z,{})]})]})}},1701:function(e,r,t){t.d(r,{Z:function(){return c}});t(2791);var n=t(4070),a=t(7317),o=t(9818),i=t(9434),s=t(4310),u=t(184);function c(){var e=(0,i.v9)((function(e){return e.ui})).error,r=(0,i.I0)(),t=function(){r((0,s.NV)(null))};return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(o.Z,{open:null!==e,onClose:t,children:(0,u.jsxs)(n.Z,{severity:"error",onClose:t,children:[(0,u.jsx)(a.Z,{children:"Error"}),e]})})})}},9436:function(e,r,t){t.d(r,{g:function(){return o}});t(2791);var n=t(9434),a=t(184),o=function(){var e=(0,n.v9)((function(e){return e.ui})).loading;return(0,a.jsx)(a.Fragment,{children:e&&(0,a.jsx)("div",{className:"loader text-center",children:(0,a.jsxs)("div",{className:"loader-inner",children:[(0,a.jsxs)("div",{className:"lds-roller mb-3",children:[(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{})]}),(0,a.jsx)("h4",{className:"text-uppercase font-weight-bold",children:"Loading"})]})})})}},5373:function(e,r,t){t.d(r,{$:function(){return u}});var n=t(9961),a=t(4277),o=t(169),i=(t(2791),t(6088)),s=t(184),u=function(){var e=(0,n.l)(),r=(0,a.P)(e,o.bu),t=(0,a.P)(e,o.UB);return(0,s.jsx)(i.Z,{color:"primary",count:t,page:r+1,onChange:function(r,t){return e.current.setPage(t-1)}})}},2332:function(e,r,t){t.d(r,{N:function(){return l}});t(2791);var n=t(4265),a=t(2501),o=t(9e3),i=t(3395),s=t(1330),u=t(3788),c=t(184),l=function(e){e.onClick;return(0,c.jsxs)(n.D,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center",gap:2},children:[(0,c.jsx)(a.S,{}),(0,c.jsx)(o.M,{}),(0,c.jsx)(i.L,{}),(0,c.jsx)(s.Zh,{}),(0,c.jsx)(u.T,{})]})}},433:function(e,r,t){t.d(r,{jY:function(){return n},ac:function(){return a},Gd:function(){return o}});var n=[{field:"fullName",headerName:"Nombre",width:160,valueGetter:function(e){return"".concat(e.row.cliente||"")}},{field:"fecha_prestamo",headerName:"Fecha Prestamo",width:120,editable:!1,valueFormatter:function(e){return e.value.split("T")[0]}},{field:"valor_prestamo",headerName:"Valor Prestamo",width:150,editable:!1,valueFormatter:function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.value)}},{field:"tasa_interes",headerName:"Tasa",width:80,editable:!1,valueFormatter:function(e){return e.value+"%"}},{field:"capital_actual",headerName:"Capital",width:150,editable:!1,valueFormatter:function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.value)}},{field:"valor_interes",headerName:"Interes",width:150,editable:!1,valueFormatter:function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.value)}},{field:"ultimo_pago",headerName:"Fecha_corte",width:120,editable:!1,valueGetter:function(e){var r;if((null===e||void 0===e||null===(r=e.row.pagos)||void 0===r?void 0:r.length)>0){var t=e.row.pagos.reduce((function(e,r){return new Date(e.date)>new Date(r.date)?e:r}));return(null===t||void 0===t?void 0:t.fecha_pago).split("T")[0]}return null===e||void 0===e?void 0:e.row.fecha_prestamo.split("T")[0]}}],a=[{field:"fullName",headerName:"Nombre",width:160,valueGetter:function(e){return"".concat(e.row.cliente||"")}},{field:"fecha_prestamo",headerName:"Fecha Prestamo",width:120,editable:!1,valueFormatter:function(e){return e.value.split("T")[0]}},{field:"valor_prestamo",headerName:"Valor Prestamo",width:150,editable:!1,valueFormatter:function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.value)}},{field:"capital_actual",headerName:"Capital",width:150,editable:!1,valueFormatter:function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.value)}},{field:"fecha_pago",headerName:"Fecha pago",width:120,editable:!1,valueFormatter:function(e){return e.value.split("T")[0]}},{field:"valor_pago",headerName:"Valor Pago",width:120,editable:!1,valueFormatter:function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.value)}},{field:"valor_capital",headerName:"Valor Capital",width:120,editable:!1,valueFormatter:function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.value)}},{field:"valor_interes",headerName:"Valor Interes",width:120,editable:!1,valueFormatter:function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.value)}}],o=[{field:"fullName",headerName:"Nombre",width:200,valueGetter:function(e){return"".concat(e.row.cliente||"")}},{field:"fecha_prestamo",headerName:"Fecha Prestamo",width:160,editable:!1,valueFormatter:function(e){return e.value.split("T")[0]}},{field:"valor_prestamo",headerName:"Valor Prestamo",width:160,editable:!1,valueFormatter:function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e.value)}},{field:"tasa_interes",headerName:"Interes (%)",width:120,editable:!1,valueFormatter:function(e){return"".concat(e.value,"%")}}]},6385:function(e,r,t){t.d(r,{C5:function(){return d},v3:function(){return f},CA:function(){return y},gu:function(){return h},OV:function(){return m},Jd:function(){return v},Mu:function(){return g},UH:function(){return x},tN:function(){return w},My:function(){return _},aM:function(){return M},iJ:function(){return N},ct:function(){return b},gJ:function(){return j}});var n=t(5861),a=t(4687),o=t.n(a),i=t(362),s=t(7444),u=t(9095),c=t(3703),l=t(2426),p=t.n(l),d=function(e){var r=e.id_cliente,t=e.cliente,a=e.fecha_prestamo,l=e.valor_prestamo,d=e.tasa_interes,f=e.periodo_pago,y=e.observacion;return function(){var e=(0,n.Z)(o().mark((function e(n){var h,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:s.h.uiOpenLoading}),a=p()(a).format(),e.next=5,(0,i.E)("prestamos/CreatePrestamo",{id_cliente:r,cliente:t,fecha_prestamo:a,valor_prestamo:l,tasa_interes:d,periodo_pago:f,observacion:y},"POST");case 5:return h=e.sent,e.next=8,h.json();case 8:(m=e.sent).ok?(n({type:u.a.formSave}),n({type:c.M.Create,payload:m.response}),n({type:s.h.uiErrorMessage,payload:null})):n({type:s.h.uiErrorMessage,payload:m.msg}),n({type:s.h.uiCloseLoading}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),n({type:s.h.uiCloseLoading}),n({type:s.h.uiErrorMessage,payload:JSON.stringify(e.t0)});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(r){return e.apply(this,arguments)}}()},f=function(e){var r=e._id,t=e.id_cliente,a=e.cliente,l=e.fecha_prestamo,d=e.valor_prestamo,f=e.tasa_interes,y=e.periodo_pago,h=e.observacion;return function(){var e=(0,n.Z)(o().mark((function e(n){var m,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:s.h.uiOpenLoading}),l=p()(l).format(),e.next=5,(0,i.E)("prestamos/UpdatePrestamo/"+r,{id_cliente:t,cliente:a,fecha_prestamo:l,valor_prestamo:d,tasa_interes:f,periodo_pago:y,observacion:h},"PUT");case 5:return m=e.sent,e.next=8,m.json();case 8:(v=e.sent).ok?(n({type:u.a.formSave}),n({type:c.M.Create,payload:v.response}),n({type:s.h.uiErrorMessage,payload:null})):n({type:s.h.uiErrorMessage,payload:v.msg}),n({type:s.h.uiCloseLoading}),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0),n({type:s.h.uiCloseLoading}),n({type:s.h.uiErrorMessage,payload:JSON.stringify(e.t0)});case 18:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(r){return e.apply(this,arguments)}}()},y=function(e){return function(){var r=(0,n.Z)(o().mark((function r(t){var n,a;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t({type:s.h.uiOpenLoading}),r.next=4,(0,i.E)("prestamos/DeletePrestamo/"+e,{},"delete");case 4:return n=r.sent,r.next=7,n.json();case 7:(a=r.sent).ok?(t({type:u.a.formDelete}),t({type:c.M.Delete,payload:a.response}),t({type:s.h.uiErrorMessage,payload:null})):t({type:s.h.uiErrorMessage,payload:a.msg}),t({type:s.h.uiCloseLoading}),r.next=17;break;case 12:r.prev=12,r.t0=r.catch(0),console.error(r.t0),t({type:s.h.uiCloseLoading}),t({type:s.h.uiErrorMessage,payload:JSON.stringify(r.t0)});case 17:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(e){return r.apply(this,arguments)}}()},h=function(e){return function(){var r=(0,n.Z)(o().mark((function r(t){var n,a;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t({type:s.h.uiOpenLoading}),r.next=4,(0,i.E)("prestamos/getPrestamoByCliente/"+e,{});case 4:return n=r.sent,r.next=7,n.json();case 7:(a=r.sent).ok?(t({type:c.M.searchByClientId,payload:a.response}),t({type:s.h.uiErrorMessage,payload:null})):t({type:s.h.uiErrorMessage,payload:a.msg}),t({type:s.h.uiCloseLoading}),r.next=17;break;case 12:r.prev=12,r.t0=r.catch(0),console.error(r.t0),t({type:s.h.uiCloseLoading}),t({type:s.h.uiErrorMessage,payload:JSON.stringify(r.t0)});case 17:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(e){return r.apply(this,arguments)}}()},m=function(e,r){return function(){var t=(0,n.Z)(o().mark((function t(n){var a,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:s.h.uiOpenLoading}),t.next=4,(0,i.E)("prestamos/getPrestamosByDate",{fecha_ini:e,fecha_fin:r},"POST");case 4:return a=t.sent,t.next=7,a.json();case 7:(u=t.sent).ok?(n({type:c.M.searchByClientId,payload:u.response}),n({type:s.h.uiErrorMessage,payload:null})):n({type:s.h.uiErrorMessage,payload:u.msg}),n({type:s.h.uiCloseLoading}),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(0),console.error(t.t0),n({type:s.h.uiCloseLoading}),n({type:s.h.uiErrorMessage,payload:JSON.stringify(t.t0)});case 17:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},v=function(){return function(e){e({type:c.M.Initial})}},g=function(e){return function(r){r({type:c.M.Read,payload:e})}},x=function(e,r,t,a,u){return function(){var l=(0,n.Z)(o().mark((function n(l){var p,d;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,l({type:s.h.uiOpenLoading}),n.next=4,(0,i.E)("prestamos/generatePago",{prestamo_id:e,valor_pagar:r,fecha_pago:t,valor_interes:a,checkFin:u},"POST");case 4:return p=n.sent,n.next=7,p.json();case 7:(d=n.sent).ok?(l({type:c.M.GeneratePago,payload:d.response}),l({type:s.h.uiErrorMessage,payload:null})):l({type:s.h.uiErrorMessage,payload:d.msg}),l({type:s.h.uiCloseLoading}),n.next=17;break;case 12:n.prev=12,n.t0=n.catch(0),console.error(n.t0),l({type:s.h.uiCloseLoading}),l({type:s.h.uiErrorMessage,payload:JSON.stringify(n.t0)});case 17:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return l.apply(this,arguments)}}()},w=function(e,r){return function(){var t=(0,n.Z)(o().mark((function t(n){var a,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:s.h.uiOpenLoading}),t.next=4,(0,i.E)("prestamos/reCalcularInteres",{prestamo_id:e,fecha_corte:r},"post");case 4:return a=t.sent,t.next=7,a.json();case 7:(u=t.sent).ok?(n({type:c.M.reCalculateInteres,payload:u.response}),n({type:s.h.uiErrorMessage,payload:null})):n({type:s.h.uiErrorMessage,payload:u.msg}),n({type:s.h.uiCloseLoading}),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(0),console.error(t.t0),n({type:s.h.uiCloseLoading}),n({type:s.h.uiErrorMessage,payload:JSON.stringify(t.t0)});case 17:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},_=function(e,r){return function(){var t=(0,n.Z)(o().mark((function t(n){var a,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:s.h.uiOpenLoading}),t.next=4,(0,i.E)("prestamos/deletePago",{pago_id:e,prestamo_id:r},"POST");case 4:return a=t.sent,t.next=7,a.json();case 7:(u=t.sent).ok?(n({type:c.M.deletePago,payload:u.response}),n({type:s.h.uiErrorMessage,payload:null})):n({type:s.h.uiErrorMessage,payload:u.msg}),n({type:s.h.uiCloseLoading}),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(0),console.error(t.t0),n({type:s.h.uiCloseLoading}),n({type:s.h.uiErrorMessage,payload:JSON.stringify(t.t0)});case 17:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},M=function(){return function(){var e=(0,n.Z)(o().mark((function e(r){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:s.h.uiOpenLoading}),e.next=4,(0,i.E)("prestamos/getPrestamoActivo",{});case 4:return t=e.sent,e.next=7,t.json();case 7:(n=e.sent).ok?(r({type:c.M.getPrestamosActivos,payload:n.response}),r({type:s.h.uiErrorMessage,payload:null})):r({type:s.h.uiErrorMessage,payload:n.msg}),r({type:s.h.uiCloseLoading}),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0),r({type:s.h.uiCloseLoading}),r({type:s.h.uiErrorMessage,payload:JSON.stringify(e.t0)});case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(r){return e.apply(this,arguments)}}()},N=function(e,r){return function(){var t=(0,n.Z)(o().mark((function t(n){var a,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:s.h.uiOpenLoading}),t.next=4,(0,i.E)("prestamos/getProximosCobrar",{fecha_ini:e,fecha_fin:r},"POST");case 4:return a=t.sent,t.next=7,a.json();case 7:(u=t.sent).ok?(n({type:c.M.searchByClientId,payload:u.response}),n({type:s.h.uiErrorMessage,payload:null})):n({type:s.h.uiErrorMessage,payload:u.msg}),n({type:s.h.uiCloseLoading}),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(0),console.error(t.t0),n({type:s.h.uiCloseLoading}),n({type:s.h.uiErrorMessage,payload:JSON.stringify(t.t0)});case 17:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e,r){return function(){var t=(0,n.Z)(o().mark((function t(n){var a,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:s.h.uiOpenLoading}),t.next=4,(0,i.E)("prestamos/getBalance",{fecha_ini:e,fecha_fin:r},"POST");case 4:return a=t.sent,t.next=7,a.json();case 7:(u=t.sent).ok?(n({type:c.M.getBalance,payload:u.response}),n({type:s.h.uiErrorMessage,payload:null})):n({type:s.h.uiErrorMessage,payload:u.msg}),n({type:s.h.uiCloseLoading}),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(0),console.error(t.t0),n({type:s.h.uiCloseLoading}),n({type:s.h.uiErrorMessage,payload:JSON.stringify(t.t0)});case 17:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},j=function(){return function(e){e({type:c.M.initBalance})}}}}]);
//# sourceMappingURL=461.aa35e410.chunk.js.map